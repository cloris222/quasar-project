import{N as i,ai as c,d as a,P as r,R as t,V as q,aj as u,ak as g,a5 as f,F as h,al as b,O as B,L as x,r as v,c as z,W as I,am as U,b0 as j,b1 as R}from"./index.9b0ce75b.js";import{Q as E,a as Q}from"./QBreadcrumbs.e89e9b30.js";import{_ as F,Q as P,c as w,d as A}from"./lodash.bbf34360.js";import{Q as T}from"./QSelect.b886188b.js";import{Q as L}from"./QChip.e49f4edf.js";import{u as D}from"./use-quasar.c64d79f7.js";import{Q as C,a as M}from"./QCard.386771b8.js";import"./option-sizes.c22f67ec.js";import"./TouchPan.fe19edd8.js";import"./touch.70a9dd44.js";import"./format.3e32b8d9.js";import"./_commonjsHelpers.b8add541.js";import"./QDialog.8fd93ae5.js";import"./use-prevent-scroll.97bd2bc4.js";const O={id:"boardGameListCard"},W={class:"cardImage"},H=["src"],J={class:"row text-h6"},K={style:{"font-size":"16px"}},X={__name:"boardGameListcard",props:{_id:{type:String,default:""},name:{type:String,default:""},images:{type:Array,default(){return[]}},category:{type:Array,default(){return[]}},gamer:{type:String,default:""},age:{type:Number,default:0},rules:{type:String,default:""},sell:{type:Boolean,default:!1}},setup(d){return(V,y)=>(i(),c("div",O,[a(M,{class:"boardGameListCard"},{default:r(()=>[t("div",W,[t("img",{src:d.images[0]},null,8,H),a(q,{"icon-right":"mdi-arrow-right",label:"\u4E86\u89E3\u8A73\u60C5",color:"secondary",class:"detailBtn",to:"/boardGameList/"+d._id},null,8,["to"])]),a(C,null,{default:r(()=>[t("div",J,[u(g(d.name)+" ",1),a(f,{name:"diversity_3",color:"primary",size:"sm",class:"q-mr-sm"}),t("span",K,g(d.gamer),1)])]),_:1}),a(C,{class:"q-pt-none"},{default:r(()=>[(i(!0),c(h,null,b(d.category,(n,p)=>(i(),B(L,{key:p,color:"primary","text-color":"white"},{default:r(()=>[u(g(n),1)]),_:2},1024))),128))]),_:1})]),_:1})]))}},Y={id:"shoppingMall"},Z={class:"container"},ee={class:"row q-mt-lg"},ae={class:"col-3"},te={class:"toolSection"},oe={class:"row justify-center q-mt-lg q-mx-auto"},se={class:"col-1 title_area"},le={class:"col-5 q-mb-lg"},re={class:"row justify-center q-mx-auto"},ie={class:"col-1 title_area"},ne={class:"col-2 q-mb-lg"},de={class:"col-3"},ce={class:"row q-mx-auto justify-center"},we={__name:"boardGameListView",setup(d){const V=D(),y=x([]),n=v([]),p=v(!0),S=["\u6D3E\u5C0D\u904A\u6232","\u7B56\u7565\u904A\u6232","\u9663\u71DF\u904A\u6232","\u89AA\u5B50\u904A\u6232","\u7D19\u724C\u904A\u6232","\u5176\u4ED6\u904A\u6232","\u66A2\u92B7\u904A\u6232","\u6700\u65B0\u4E0A\u67B6","\u64BF\u4FBF\u5B9C","\u516B\u6210\u65B0","\u8FD1\u5168\u65B0"],m=v("less"),$=()=>{n.value=l.category.map(s=>s)},G=s=>{n.value.splice(s,1),l.category.splice(s,1)},l=x({gamer:{min:1,max:5},category:["\u66A2\u92B7\u904A\u6232"]}),N=z(()=>y.filter(s=>s.gamer.split("~").map(Number)[0]>=parseInt(l.gamer.min)&&s.gamer.split("~").map(Number)[1]<=parseInt(l.gamer.max)&&parseInt(F.intersection(s.category,l.category).length)!==0));return(async()=>{var s,o;try{const{data:e}=await I.get("/boardGameList");y.push(...e.result)}catch(e){V.notify({position:"top",message:((o=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:o.message)||"\u767C\u751F\u932F\u8AA4",color:"negative"})}})(),(s,o)=>(i(),c("div",Y,[t("div",Z,[t("div",ee,[t("div",ae,[a(E,{class:"text-primary","active-color":"grey"},{separator:r(()=>[a(f,{size:"1.5em",name:"chevron_right",color:"primary"})]),default:r(()=>[a(Q,{label:"\u9996\u9801",icon:"home",to:"/"}),a(Q,{label:"\u684C\u904A\u6E05\u55AE",icon:"mdi-bookshelf"})]),_:1})])]),a(P,{modelValue:p.value,"onUpdate:modelValue":o[5]||(o[5]=e=>p.value=e),icon:"mdi-filter-variant",label:"\u7BE9\u9078\u689D\u4EF6"},{default:r(()=>[t("div",te,[t("div",oe,[t("div",se,[a(f,{name:"diversity_3",size:"sm"}),u(" \u4EBA\u6578 ")]),t("div",le,[a(w,{modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=e=>m.value=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"less",label:"10\u4EBA\u4EE5\u4E0B"},null,8,["modelValue"]),a(w,{modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=e=>m.value=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"more",label:"10\u4EBA\u4EE5\u4E0A"},null,8,["modelValue"]),a(A,{modelValue:l.gamer,"onUpdate:modelValue":o[2]||(o[2]=e=>l.gamer=e),disable:m.value==="more",snap:"",markers:"","marker-labels":"",min:1,max:10},null,8,["modelValue","disable"])])]),t("div",re,[t("div",ie,[a(f,{name:"sell",size:"sm"}),u(" \u6A19\u7C64 ")]),t("div",ne,[a(T,{modelValue:l.category,"onUpdate:modelValue":o[3]||(o[3]=e=>l.category=e),filled:"",multiple:"",options:S,label:"\u65B0\u589E\u6A19\u7C64",style:{width:"250px"},"bottom-slots":""},{append:r(()=>[a(q,{round:"",dense:"",flat:"",icon:"add",onClick:$})]),_:1},8,["modelValue"])]),t("div",de,[(i(!0),c(h,null,b(n.value,(e,_)=>(i(),B(L,{key:_,modelValue:n.value,"onUpdate:modelValue":o[4]||(o[4]=k=>n.value=k),color:"primary","text-color":"white",clickable:"",icon:"mdi-close-circle","icon-color":"white",onClick:k=>G(_)},{default:r(()=>[u(g(e),1)]),_:2},1032,["modelValue","onClick"]))),128))])])])]),_:1},8,["modelValue"]),t("div",ce,[(i(!0),c(h,null,b(U(N),(e,_)=>(i(),c("div",{key:_,class:"col-6 col-lg-3 q-mb-lg"},[a(X,j(R(e)),null,16)]))),128))])])]))}};export{we as default};
